# Test problem (OTG)

## Description

### Реалізувати виконуваний модуль, який при запуску:

1. Бере з першого параметру командного рядка кількість дочірніх процесів.
2. Відкриває текстовий файл для ведення журналу.
3. Відкриває серверний ТСР сокет на 127.0.0.1:54321.
4. Запускає задану кількість дочірніх процесів.
5. Запустіть тестування функціональності TCP-з'єднання.
6. Читає консоль та відправляє кожен прочитаний рядок у всі встановлені ТСР-з'єднання.
7. Отримує від клієнтів підтвердження про отримання та keep-alive's.
8. Забезпечте коректну роботу keep-alive та стабільність з'єднання.

### Кожен дочірній процес після запуску

1. Встановлює з'єднання з серверним сокетом та чекає на повідомлення від сервера.
2. При отриманні повідомлення відправляє на сервер підтвердження про отримання з довжиною отриманого повідомлення.
3. Через випадковий проміжок часу тривалістю від 5 до 20 секунд відправляє у сокет повідомлення "я живий"(i am alive!).
4. Через випадковий проміжок часу тривалістю від 60 до 120 секунд - завершує виконання.

## Init

```sh
git clone https://github.com/nickcomua/p1.git
cd p1

opam switch create ./ 4.14.0 # to create a local switch
# or
opam install . # to install dependencies globally
```

## Build

```sh
dune build
```

## Run

```sh
dune exec p1 5
# or
./_build/install/default/bin/p1.exe 5 # for windows
```